<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dashboard ‚Ä¢ V√°noƒçn√≠ v√Ωzva 2025</title>
  <link rel="stylesheet" href="./assets/css/styles.css" />
</head>
<body>
  <main>
    <section id="weekInfoSection" class="card">
      <h2>Tento t√Ωden</h2>
      <div id="weekInfoTextView" class="muted"></div>
      <div id="weekInfoActivities" class="stack"></div>
    </section>

    <section id="operatorSection" class="card" aria-hidden="true">
      <h2>Moje aktivity</h2>
      <div class="stack">
        <div class="row">
          <select id="targetOperator" class="input hidden" style="max-width:280px"></select>
          <select id="activitySelect" class="input" style="max-width:420px"></select>
          <input type="number" id="customDelta" class="input" placeholder="Vlastn√≠ poƒçet (¬±)" style="max-width:180px" />
          <button class="btn" id="addPointsBtn" disabled>P≈ôidat/Odebrat body</button>
        </div>
        <p class="muted" id="roleInfo"></p>

        <div class="row" style="justify-content:space-between; align-items:center">
          <div class="muted">Zobrazeny jsou posledn√≠ 3 z√°znamy.</div>
          <button class="btn small" id="openLogsBtn" title="Cel√° historie z√°znam≈Ø">Cel√° historie</button>
        </div>

        <div id="myRecent" class="stack"></div>
      </div>
    </section>

    <section id="leaderboardSection" class="card">
      <h2>≈Ωeb≈ô√≠ƒçek</h2>
      <div class="row muted" style="justify-content:space-between">
        <div>Body = nasb√≠ran√© d√°rky üéÅ</div>
        <div id="milestoneLegend"></div>
      </div>
      <div id="leaderboard" class="stack"></div>
    </section>

    <!-- mod√°ly -->
    <section id="milestonesModal" class="card hidden" style="position:fixed; right:16px; top:64px; z-index:10; max-width:420px">
      <div class="row" style="justify-content:space-between; align-items:center">
        <h2 style="margin:0">Hodnosti</h2>
        <button class="btn small ghost" id="closeMilestonesModal">Zav≈ô√≠t</button>
      </div>
      <div id="milestonesPublicList" class="stack"></div>
    </section>

    <section id="avatarModal" class="card hidden" style="position:fixed; right:16px; top:64px; z-index:30; max-width:520px">
      <div class="row" style="justify-content:space-between; align-items:center">
        <h2 style="margin:0">Vyber profilov√Ω obr√°zek</h2>
        <button class="btn small ghost" id="closeAvatarModal">Zav≈ô√≠t</button>
      </div>
      <div class="muted">Pokud ≈æ√°dn√Ω nevybere≈°, budou se zobrazovat inici√°ly s barvou.</div>
      <div id="avatarGrid" class="row" style="flex-wrap:wrap; gap:10px; margin-top:10px"></div>
    </section>
  </main>

  <script type="module">
    import { initTheme, initChrome } from './assets/js/ui.js';
    import { guard } from './assets/js/auth-guard.js';
    import './assets/js/dashboard.js';

    initTheme(); initChrome();
    guard({ requireAuth: true, onReady(){ /* dashboard.js si v≈°e zainicializuje */ }});
  </script>
</body>
</html>
